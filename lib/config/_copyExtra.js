"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

// Generated by CoffeeScript 2.5.1
(function () {
  var Result, copyExtra;
  Result = require('../result');

  copyExtra = function copyExtra(result, map) {
    var item;
    item = void 0;
    return result.context(function (path) {
      return Result.prop('extra', Result.prop(item.name))(path);
    }, function () {
      var i, len, ref, ref1, results, value;
      ref = map.$$list;
      results = [];

      for (i = 0, len = ref.length; i < len; i++) {
        item = ref[i];

        if (!((ref1 = item.$$src) != null ? ref1.hasOwnProperty('extra') : void 0)) {
          continue;
        }

        value = item.$$src.extra;

        if (!(_typeof(value) === 'object' && value !== null && !Array.isArray(value))) {
          results.push(result.error('dsc.invalidValue', {
            value: value
          }));
        } else {
          results.push(item.extra = value);
        }
      }

      return results;
    });
  }; //---------------------------


  module.exports = copyExtra;
}).call(void 0);